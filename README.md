# yotasrvc

Build and run project:
1. At root dir execute 
gradle bootJar
2. For windows example: (java -jar C:/Users/schesnok/desktop/123/yotasrvc/build/libs/yotasrvc-0.0.1-SNAPSHOT.jar)
java -jar yotasrvc-0.0.1-SNAPSHOT.jar


В проекте использованы:
Java 1.8.0
Spring Boot 2.2.0
Spring Data JPA
Springfox Swagger 2.9.2
Logback
H2 embedded database

Сервис позволяет:

Начислять пакеты минут и гигабайтов, имеющих время жизни
Расходовать минуты и гигабайты
Получать количество доступных минут и гигабайт
Активировать и блокировать сим-карты

Изначально в БД инициализируются 3 пустые(без пакетов минут и гигабайтов) сим-карты с номерами:
+79213335671, +79213335672, +79213335673. Первые два номера активны, третий имеет статус неактивного.

В приложении настроен Swagger. UI доступен по адресу http://localhost:8080/swagger-ui.html
Для каждой операции реализованы проверки на валидные инпуты - значения не должны быть отрицательными.
Если сим-карта заблокирована, то нельзя начислить пакеты минут или гигабайтов, так же их нельзя расходовать и посмотреть их остаток.
Если сим-карта активна - доступны все вышеуказанные операции.
Дата просрочки пакета рассчитывается автоматически при его добавлении к сим-карте, исходя из сегодняшней даты, а так же 
пришедшего "срока годности" с клиента. Срок годности измеряется в днях.
Если на сим-карте недостаточно минут или гигабайт, то операция их расходования не пройдет.
Для каждого действия происходит проверка на присутствие такого номера в БД.
Если необходимо добавить пакет к сим-карте - полю expirationDate присвоить null;
Если необходимо добавить и гигабайты и минуты - с клиента ожидается приход Json с двумя объектами.
Если необходимо добавить только пакет минут или гигабайтов - ожидаются присвоенные значения только у необходимого объекта.
